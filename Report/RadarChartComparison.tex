\documentclass[Report.tex]{subfiles}

\begin{document}

\begin{figure}
\center
\includegraphics[width=\textwidth, trim=0 150 0 0]{"Succes Rates Comparison".pdf}
\caption{Idiom showing the comparison of the success rates using a radar chart for comparing two teams and bar chart for comparing with all other teams in the league}
\label{Fig:SuccesRates}
\end{figure}


\subsubsection{What-why-how}
The visualisation shows the comparison of two teams' success rate on several points of measure in a radar chart combined with a bar chart, this is shown in Figure \ref{Fig:SuccesRates}. Concerning magnitude channels we position the marks on a commons scale and also use the area of the radar chart for comparison. For categorising we use color hue.

The action of the idiom is to compare two teams to find differences/similarities, maybe in relation to the placement in the league table, and to analyse where the teams differ. The target is to find extremes and outliers.

This is done by faceting into two views. In the left view we have a radar chart and in the right view we have a bar chart. The user can select two teams to compare in the radar chart. The teams' success rates in relation to shots, tackles, air challenges, passes and dribbles, is shown on the radar chart. When pressing one of the team's value in one of the measurement points the bar chart for all the teams in the league shown comparing this measurement. The views are linked together by synchronizing the highlighting the chosen team in the bar chart. The highlight in the bar chart creates pop out by having this bar coloured and all others black.
The raw data is reduced filtering and by aggregating. Only some variables are chosen and calculating the values for each team from the individual player's values. 
The radar chart is manipulated first off by selecting two teams to compare. If the user hovers over the values, which highlights all the team's values together with the area of the chart. Also if clicking a value the bar chart is updated to show compare this measurement for all teams.
\subsubsection{Code}
The R code is quite simple. In broad strokes it does the following: Read the data file, convert columns to be numeric, sum the data by team (before player wise), add and calculate the success columns, remove the unnecessary columns, restructure the data to a format that fits the radar chart and write three files, one containing the names of the teams,one containing the data in one format and one containing it in another format. The data is exported in two files to suit both the radar chart and the bar chart.

In JavaScript we create the selectors, where the user chooses the teams. If two teams are chosen the radar chart is drawn. The radar chart is based \cite{Radar} and modified to our needs. One of the modifications is that we draw a bar chart if the user presses a value being a circle. The function which draws the chart takes the data variable to visualise as an argument together with the selected team. The data is then loaded and drawn making sure that the data is sorted for better comparison, and that the right team is highlighted.


\end{document}